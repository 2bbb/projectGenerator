<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>openFrameworks Project Generator</title>
		<link rel="stylesheet" href="css/semantic.css">
		<link rel="stylesheet" href="css/index.css">
		<style>
		body {
			background-color: #ddd;
			-webkit-user-select: none;
		}
		/* enable some text to be selectable */
		.selectable, .selectable * {
			-webkit-user-select: text;
		}
		.main.menu {
			-webkit-app-region: drag;
		}

		.ui.dimmer > .content {
			-webkit-user-select: none !important;
		}

		#uimodal {
			word-wrap: break-word;
		}

		.monospace{
			word-wrap: break-word !important;
		}

		#fullConsoleOutput textarea{
			border:0px;
			background-color: #333;
			width:100%;
			min-height:10em;
			color:#dfdfdf;
			font-family:Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New, monospace;
			font-size: 9px;
			white-space: pre;
 			word-wrap: normal;
  			overflow-x: scroll;
		}

		</style>
	</head>
	<body>
		<!-- there is a little bit of wonkiness here to make the window draggable but also make the top bar clickable.  I basically enable drag for the menu, but disable it in divs around the text.  from a UI perspective, it's kind of weird cause the highlight is happening, but you need to click closer to the text to trigger the tab change.  I'm still thinking about how to do this well -->
		<div class="ui borderless fixed inverted main menu" >
			<div class="ui container">
				<a class="item">
					<div style="-webkit-app-region: no-drag !important; padding:6px;" onclick="quit()"><i class="remove link icon" ></i>
					</div>
				</a>
				<a class="item active" data-tab="create" id="createMenuButon">
					<div style="-webkit-app-region: no-drag !important; padding:6px;">create / update</div>
				</a>
				<a class="item updateMultiMenuOption" data-tab="updateMulti" style="display: none" id="updateMenuButton">
					<div style="-webkit-app-region: no-drag !important; padding:6px;">update multiple</div>
				</a>
				<a class="item right floated" data-tab="settings" id="settingsMenuButton">
					<div style="-webkit-app-region: no-drag !important; padding:6px;"><i class="setting link icon"></i>
					</div>
				</a>
			</div>
		</div>
		
		
		<div class="main ui container" style="padding: 90px 40px 50px 40px">
			
			<!------------------------------- create -------------------------------->
			<div class="ui tab active" data-tab="create">
				<div class="ui form">
					<div class="field">
						<label>Project name:</label>
						<div class="fields">
							<div class="field">
								<input type="text" placeholder="Project name..." id="projectName">
							</div>
							<div class="field">
								<div class="ui grey button" onclick="browseImportProject()">import</div>
							</div>
						</div>
					</div>
					<div class="field">
						<label>Project path:</label>
						<div class="ui icon input fluid">
							<input type="text" placeholder="Project path..." id="projectPath">
							<i class="search link icon" onclick="browseProjectPath()"></i>
						</div>
					</div>
					<div class="field">
						<label>Addons:</label>
						<div class="ui multiple search selection dropdown" id="addonsDropdown">
							<input name="addons" type="hidden">
							<i class="dropdown icon"></i>
							<div class="default text">Addons...</div>
							<div class="menu " id="addonsList">
							</div>
						</div>
					</div>
					<div class="ui red message" id="missingAddonMessage" style="display: none">
						<p>
							<div class="header">
								Missing addons
							</div>
						</p>
						<p>you are attempting to update a project that is missing the following addons</p>
						<p><div id="missingAddonList">...</div></p>
						<p>please download the missing addons and put them in your addons folder, then relaunch the project generator.</p>
						<p>if you choose to update this project without these addons, you may overwrite the settings on the project.</p>
					</div>
					<div class="field">
						<label>Platforms:</label>
						<div class="ui multiple search selection dropdown" id="platformsDropdown">
							<input name="platforms" type="hidden">
							<i class="dropdown icon"></i>
							<div class="default text">Platforms...</div>
							<div class="menu" id="platformList">
							</div>
						</div>
						<div id="test"></div>
					</div>
					<div class="ui hidden divider"></div>
					<div class="field">
						<div class="ui olive button" id="generateButton" onclick="generate()">Generate</div>
						<div class="ui orange button" id="updateButton" style="display: none" onclick="generate()">Update</div>
					</div>
				</div>
			</div>
			<!------------------------------- advanced -------------------------------->
			<div class="ui tab" data-tab="updateMulti">
				<div class="ui message">
					<p>
						<div class="header">
							Warning
						</div>
					</p>
					<p>This updates existing projects <em>recursively</em> in the selected directory. For example, to generate examples for a specific platform, you'd choose the examples folder as the update path. </p><p><i>To update a single project, use the import tool on the "create / update" page.</i></p>
				</div>
				<div class="ui form">
					<div class="field">
						<label>Update path:</label>
						<div class="ui icon input fluid">
							<input type="text" placeholder="Update path..." id="updateMultiplePath">
							<i class="search link icon" onclick="getUpdatePath()"></i>
						</div>
					</div>
					<div class="ui negative message" id="updateMultipleWrongMessage" style="display: none">
						<div class="header">
							Update path doesn't exist
						</div>
						<p>Please set the path to the root of the folders you want to update. The folder needs to exists.
						</p>
					</div>
					<div class="field">
						<label>Platforms:</label>
						<div class="ui multiple search selection dropdown" id="platformsDropdownMulti">
							<input name="addons" type="hidden">
							<i class="dropdown icon"></i>
							<div class="default text">Platforms...</div>
							<div class="menu" id="platformListMulti">
							</div>
						</div>
					</div>
					<div class="ui hidden divider"></div>
					<div class="field">
						<div class="ui orange button" id="updateMultipleButton" onclick="updateRecursive()">Update multiple</div>
					</div>
				</div>
			</div>
			<!------------------------------- settings -------------------------------->
			<div class="ui tab" data-tab="settings">
				<div class="ui form">
					<div class="field">
						<label>openFrameworks path:</label>
						<div class="ui icon input fluid">
							<input type="text" placeholder="openFrameworks path..." id="ofPath">
							<i class="search link icon" onclick="browseOfPath()"></i>
						</div>
					</div>
					<div class="ui negative message" id="ofPathWrongMessage" style="display: none">
						<div class="header">
							openFrameworks path is wrong
						</div>
						<p>Please set the OF path to root of openframeworks (ie, the folder which has "addons", "libs", in it)
						</p>
					</div>
					<div class="ui checkbox">
						<input type="checkbox" name="Advanced" id="advancedOptions">
						<label>Advanced options</label>
					</div>
				</div>
				
			</div>
		</div>
		
		<div class="ui small modal" id="ofPathError">
  
  <div class="content">
    <div class="description">
      please fix the openFrameworks path before procceeding.
    </div>
  </div>
</div>
		
		<!-- begin JS UI modal -->
		<div class="ui modal" id="uiModal" tabindex="-1" role="dialog">
			<div class="content">
				<p>Sorry, I've got nothing to say...</p>
			</div>
			<div class="actions">
				<div class="ui cancel button">Close</div>
			</div>
		</div>
		<!-- end modal -->
		<!-- console area -->
		<section class="ui" id="consoleContainer">
			<span id="showConsole">Show Console</span>
			<span id="hideConsole">Hide</span>
			<div id="console" class="selectable">
				<p>Welcome to the console :)</p>
			</div>
		</section>
		<script type="text/javascript" src="js/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script>
		<script type="text/javascript" src="js/semantic.min.js"></script>
		<script src="app.js"></script>
	</body>
</html>